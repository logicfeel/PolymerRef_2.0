<html>
<head>
  <meta charset="UTF-8">
</head>
<body>
    

<h2>T. 동적 테이블 생성 ver 2.x</h2>

<div id="t"></div>
<div id="inner_div">
    <ol>
        <li>aaaa</li>
        <li>bbbb</li>
    </ol>
</div>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="logicTable.js?v2"></script>
<script>

    // (function() {

        // 데이터셋 샘플 (head 와 body 가 있는 경우)
        var orgJson = {
            tables : [                      // * 필수
                {
                    name: "head",           // * 필수
                    colume :[               // * 필수
                        {
                            name: "key1",
                            type: String,
                            title: "번호"
                        },
                        {
                            name: "key2",
                            type: String,
                            title: "제목"
                        },
                        {
                            name: "key3",
                            type: String,
                            title: "글쓴이"
                        }
                    ]
                },
                {
                    name: "body",
                    colume :[
                        {
                            name: "key1",
                            type: Number,
                            title: "번호"
                        },
                        {
                            name: "key2",
                            type: String,
                            title: "제목"
                        },
                        {
                            name: "key3",
                            type: String,
                            title: "글쓴이"
                        }
                    ]
                }
            ],
            dataRow : {                     // * 필수
                "head": [
                    ["순번", "타이틀", "작성자"]
                ],        
                "body": [
                    [1, "제목입니다.1", "토토"],
                    [2, "제목입니다.2", "김아가"]
                ]      
            }
        };

        var dataSetJson = {

        };
        
        /**
         * 동적 테이블 사용 방법
         */
        
        // 공통 여역
        var setElem = document.querySelector('#t');
        var oTable = new LogicTable();


        // setElem.onchange = chg;
        // function chg(e) {
        //     console.log('setElem 변경');
        // }

        // 방법1 : 수동으로 저작하여 생성
        (function() {
            // oTable.setHead(["번호", "제목", "글쓴이"]);
            // var b = document.createElement('b');
            // b.innerText = "진하게";
            // var c = document.querySelector("#inner_div");
            // var d = c.cloneNode(true);
            // var e = document.createElement('button');
            // e.innerText = "버튼임";
            // oTable.setBody(
            //     [
            //         ["1", "내용입니다.", "세리"],
            //         ["2", "방과후 ㅎ...", b],
            //         [e, "방과후 어딜 돌아 댕기는거야 아가야.....", d]
            //     ]
            // );
            // oTable.setCSS("table", "table table-hover table-bordered");
            // oTable.setCSS("table thead td", "warning");
            // setElem.appendChild(oTable.container);
        }());

        // 방법2 : 데이터셋 기반 설정 기존과 :: 단계적으로 붙일 경우 (기존에 붙여짐)
        (function() {
            // oTable.init();
            // oTable.loadDataSet(orgJson);
            // oTable.bind();
            // oTable.setCSS("table", "table table-hover table-bordered");
            // oTable.setCSS("table thead td", "warning");        
            // setElem.appendChild(oTable.container);
        }());

        // 방법3 : 데이터셋 기반 설정 :: 함축적함수 bind(pJSON)
        // (function() {
            // oTable.bind(orgJson);
            // oTable.setCSS("table", "table table-hover table-bordered");
            // oTable.setCSS("table thead td", "warning");                    
            // setElem.appendChild(oTable.container);
        // }());

        // 방법3-1 : 데이터셋 기반 설정 + 데이터셋 수정
        // (function() {
            // oTable.bind(orgJson);
            // oTable.setCSS("table", "table table-hover table-bordered");
            // oTable.setCSS("table thead td", "warning");                                
            // setElem.appendChild(oTable.container);

            // 수정접근 방법
            // 컬럼 수정 => 타입 tables 타입과 같이야함
            // oTable.update(oTable.dataSet.dr.body[0][1], value);
            // oTable.update(body[0][1], value);
            // oTable.update(body[0].key1, value);
            // 레코드 수정 => 타입 배열
            // oTable.update(body[0], value);
        // }());


        // (function() {
            // var oTables = new LogicTables(); 
            // oTables.init();
            // oTables.loadDataSet(orgJson);
            // oTables.register({
            //     "body": [
            //         ["1", "내용입니다.", "세리"],
            //         ["2", "방과후 ㅎ...", "k"]
            //     ]
            // });            
        // }());

        // oTable.init();

    // }());

function method() {
    this.Abc = "1";
    method.prototype.adding = function(a) {
        return this.Abc;
    }
}
var list = [[1,3,4,5], [11,13,14,15]];

var obj = {a:1};
// var obj = {};
// obj[0] = list[0];
obj[0] = list[0][0];


var obj2 = [];
obj2[0] = 10;
obj2[1] = 20;

obj2.abc = "abc";

//method.
// obj = list[0];

function ArrTest() {
    this.cssStyle = "A";
    ArrTest.prototype.css = function() {
        console.log('arrTest ..');
    }
}
ArrTest.prototype =  Object.create(Array.prototype);
ArrTest.prototype.constructor = ArrTest;


var a = new ArrTest();
a.push('abc');


var dt = new DataTable("TTT");
var dc1 = new DataColumn("p1_name", "string");
var dc2 = new DataColumn("p2_name", "string");
var dc3 = new DataColumn("p3_name", "string");
var dc4 = new DataColumn("p4_name", "string");
var dc5 = new DataColumn("p5_name", "string");
var dc6 = new DataColumn("p6_name", "string");

dt.columns.add(dc1);
dt.columns.add(dc2);
dt.columns.add(dc3);
dt.columns.add(dc4);
dt.columns.add(dc5);
dt.columns.add(dc6);


//dt.columns.removeAt(1);

// var obj = {
//     get foo() {
//         return 'getter';
//     }
// };

// document.write(dt.columns.b);
var arr = [10,20,30,40, 50];

// 30번 삭제시 idx 2
arr.splice(2, 1);

// Object.getOwnPropertyDescriptors(before)
// 큐 연결 테스트
var arrQuere = {
    aaa: "12",
    bbb: {inner: "inner~"}
};
arrQuere.ccc = arrQuere.bbb;

//arrQuere

</script>

</body>
</html>